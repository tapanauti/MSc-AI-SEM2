%take input of all images from file 

%path1 = 'C:/Users/CS-Guest-2/Desktop/Nuig/MSc_AI/MSc-AI-SEM2/Emedded_Image/Assignment1/6-CapMissing';
rng(10);

I=imread('2.jpg');
I = rgb2gray(I);   
J = imnoise(I,'gaussian',0,0.13);
B=fft2(J); 
B=fftshift(B);
[rows, cols]=size(J);
% set up a “mask” to do the filtering
dim=5;
mask=zeros(rows,cols); 
mask(96:192,118:235)=1; 
%mask(108:180,132:220)=1;
% apply the filter (simple multiplication of the mask by the spectrum of
% the image)
B2 = B.*mask;
IMG=ifft2(B2);

nocap1=capmissing(abs(IMG));



function CM = capmissing(img)
axis image; axis off; colormap(gray)
%img = rgb2gray(img);

cropimg = img(5:60 , 140:220);

binary = imbinarize(cropimg,'adaptive');
disp(bina);
blackv = 100 * (sum(binary(:) == 0) / numel(binary(:)));

pause(1);
CM = blackv < 30;

end


